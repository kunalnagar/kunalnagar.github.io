<html>
	<head>
		<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
		<link rel="icon" href="/favicon.ico" type="image/x-icon">
		<title>YouTube to Mp3 converter</title>
		<!--Boilerplate-->
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<meta name="description" content="Building a YouTube to Mp3 converter with Node.js">
		<meta name="keywords" content="">
		<meta name="author" content="Kunal Nagar">

		<!-- Open Graph Tags Start -->
<meta property="og:title" content="YouTube to Mp3 converter">

<meta property="og:type" content="website">

<meta property="og:url" content="http://kunalnagar.in/blog/youtube-to-mp3-converter/">

<meta property="og:image" content="http://i.imgur.com/sd7Zl.jpg">

<meta property="og:description" content="Building a YouTube to Mp3 converter with Node.js">

<meta property="og:site_name" content="Web Development & Design | Kunal Nagar">

<meta property="og:locale" content="en_US">


  
    <meta property="og:see_also" content="http://kunalnagar.in/blog/act-fibernet-horrible-experience/">
  
    <meta property="og:see_also" content="http://kunalnagar.in/blog/rewrite-wordpress-multisites/">
  
    <meta property="og:see_also" content="http://kunalnagar.in/blog/shared-modules-using-requirejs/">
  


<meta property="fb:admins" content="https://www.facebook.com/kunalnagar88">
<meta property="fb:app_id" content="1761328640797363">
<!-- Open Graph Tags End -->

		<!-- Twitter Card Tags Start -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@_kunalnagar">
<meta name="twitter:creator" content="@_kunalnagar">
<meta name="twitter:title" content="YouTube to Mp3 converter">
<meta name="twitter:description" content="Building a YouTube to Mp3 converter with Node.js">
<meta name="twitter:image" content="http://i.imgur.com/sd7Zl.jpg">
<!-- Twitter Card Tags End -->


		<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-51202219-2', 'auto');
  ga('send', 'pageview');
</script>


		<!--Main CSS File-->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
		<link href='https://fonts.googleapis.com/css?family=Product+Sans:100,300,400,700' rel='stylesheet' type='text/css'>
		<link href="https://fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet">
		<link rel="stylesheet" type="text/css" href="/css/style.css">

		<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
		<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
		<!--[if lt IE 9]>
		<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
		<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
		<![endif]-->
	</head>
	<body>
		<nav id="main_nav" class="hidden-xs">
    <a href="/">
        <?xml version="1.0" encoding="UTF-8"?>
        <svg width="40px" height="40px" viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
            <!-- Generator: Sketch 43.2 (39069) - http://www.bohemiancoding.com/sketch -->
            <title>Home</title>
            <desc>Created with Sketch.</desc>
            <defs></defs>
            <g id="Page-2" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                <g id="Plain-Logo-3">
                    <g>
                        <rect id="Rectangle-1" fill="#000000" x="1.8189894e-12" y="-3.63797881e-12" width="39.9832387" height="39.9832387"></rect>
                        <text id="K" font-family="BrandonGrotesque-Medium, Brandon Grotesque" font-size="23.3810086" font-weight="400" fill="#FFFFFF">
                            <tspan x="12.2552603" y="29.0489356">K</tspan>
                        </text>
                    </g>
                </g>
            </g>
        </svg>
    </a>
</nav>

		<div id="main" class="container">
			<a href="/" class="text-center visible-xs logo-other-link"><img src="/img/logo-main.svg" class="logo-other" /></a>
			<div class="page-post page-outer">
			<header>
	            <h3>YouTube to Mp3 converter</h3>
	            <time class="published post-meta">Feb 24, 2018</time>
	        </header>
			<iframe width="560" height="315" src="https://www.youtube.com/embed/oA-D7TdjVnE?rel=0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen=""></iframe>
<p><br /></p>

<p>So my parents listen to music on YouTube. Because apparently, services like <a href="https://www.saavn.com/">Saavn</a> or <a href="https://gaana.com/">Gaana</a> don’t make sense to them. And honestly, I can’t blame them. They’re gonna use what seems familiar to them.</p>

<p>One day they asked me - how can I download this song to my phone and listen to it without opening the YouTube app? And I suggested numerous YouTube to Mp3 converters on the internet. The thing I missed was that my parents cannot differentiate between an actual download button and the one that is loaded with ads. Unfortunately, a lot of these free services have ads loaded on them and that causes popups like this that send my parents into a frenzy.</p>

<p><img src="/img/blog/youtube-to-mp3-converter/youtube-to-mp3-converter-1.PNG" alt="Sample Android Malware Screenshot" /></p>

<p>Hence, I decided to create a converter for them that is ad-free and does the job. You enter a URL, click Convert and you get an mp3 file to download. From here on, I will be discussing how to build such a thing and what is the concept behind these converters and how they work. So if you’re not interested, shoo off.</p>

<p>Alright. You’re interested in how to build such a thing. You can do this in any technology you want. I will be discussing the business logic first and then suggest doing it in Node.js - because that’s how I did it.</p>

<h3 id="business-logic">Business Logic</h3>
<p>A YouTube to Mp3 converter is quite simple, actually.</p>
<ul>
  <li>You use the YouTube API to send a URL and it sends you back a list of formats that the video is available in based on the quality when it was uploaded.</li>
  <li>It returns a couple of standard formats like mp4, mov etc and one format called m4a.</li>
  <li>We download that m4a and then use ffmpeg to convert it to mp3</li>
  <li>And we’re done.</li>
</ul>

<h3 id="implementing-in-nodejs">Implementing in Node.js</h3>
<p>Unless you’re really passionate about building this thing out, I would recommend using the already built Node packages out there for downloading and converting YouTube videos. There are node packages for doing this thing entirely as well. But you’re here to learn, so let’s convert out Business Logic to code. Here are the packages you’ll need:</p>

<ul>
  <li><a href="https://github.com/fent/node-ytdl-core">node-ytdl-core</a> for getting the YouTube info for a particular URL</li>
  <li><a href="https://github.com/fluent-ffmpeg/node-fluent-ffmpeg">node-fluent-ffmpeg</a> to convert the received m4a file to mp3</li>
</ul>

<p>As far as the backend, we’ll be using <a href="https://expressjs.com/">ExpressJS</a> hosted on <a href="https://heroku.com">Heroku</a></p>

<p>You’ll need to install <a href="https://www.ffmpeg.org/">ffmpeg</a> on Heroku first for the node package to work. For that, you’ll need a <a href="https://devcenter.heroku.com/articles/buildpacks">Heroku Buildpack</a>. I used <a href="https://github.com/jonathanong/heroku-buildpack-ffmpeg-latest">this one</a>. Basically, Heroku Buildpacks allow you to specify the technologies you will need for a specific project. By default, if you push Node.js code to Heroku, a Node.js Buildpack is automatically applied to your project. You can check out all the Buildpacks in your project on it’s Settings page.</p>

<p>If you’re working on this locally, you’ll need to install ffmpeg on your machine as well. Here’s how you <a href="https://github.com/fluent-ffmpeg/node-fluent-ffmpeg/wiki/Installing-ffmpeg-on-Mac-OS-X">install it on a mac</a>.</p>

<p>I’m not going to give away the code here, so that’s for you to figure out. I have suggested all the packages you might need and where to host it as well.</p>

<p>If you have questions, please leave them in the comments below and I’ll be more than happy to answer.</p>

			<p class="share">
				<span><b>Share on:</b></span>
				<a href="https://twitter.com/intent/tweet?url=http://kunalnagar.in/blog/youtube-to-mp3-converter/&amp;text=YouTube to Mp3 converter&amp;via=_kunalnagar">Twitter</a>,
				<a href="https://facebook.com/sharer.php?u=http://kunalnagar.in/blog/youtube-to-mp3-converter/">Facebook</a>,
				<a href="https://plus.google.com/share?url=http://kunalnagar.in/blog/youtube-to-mp3-converter/">Google+</a>,
				<a href="https://www.linkedin.com/cws/share?url=http://kunalnagar.in/blog/youtube-to-mp3-converter/">LinkedIn</a>
				or use the <a href="http://kunalnagar.in/blog/youtube-to-mp3-converter/">Permalink</a>
			</p>
			<div id="disqus_thread"></div>
<script>
	var disqus_config = function () {
		this.page.url = "http://kunalnagar.in/blog/youtube-to-mp3-converter/";
		this.page.identifier = "/blog/youtube-to-mp3-converter/";
	};
	(function() {
		var d = document, s = d.createElement('script');
		s.src = '//kunalnagar.disqus.com/embed.js';
		s.setAttribute('data-timestamp', +new Date());
		(d.head || d.body).appendChild(s);
	})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

			</div>
			<!-- <script src="https://use.fontawesome.com/7dd3e58787.js"></script> -->
			<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
			<script src="/js/main.js"></script>
			<script id="dsq-count-scr" src="//kunalnagar.disqus.com/count.js" async></script>
		</div>
	</body>
</html>
