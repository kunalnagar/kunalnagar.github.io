<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="Learn how to install global node modules without running into permission issues (sudo)" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <title>Install Global Node Modules without Sudo - Kunal Nagar | Frontend Developer Toronto</title>
    <meta
      property="og:image"
      content="https://kunalnagar.in/assets/img/post.png"
    />
    <meta property="og:title" content="Install Global Node Modules without Sudo - Kunal Nagar | Frontend Developer Toronto" />
    <meta property="og:description" content="Learn how to install global node modules without running into permission issues (sudo)" />
    <meta property="og:url" content="https://kunalnagar.in/blog/install-global-node-modules/" />
    <meta property="og:type" content="article" />
    <meta name="robots" content="index, follow" />
    <link rel="stylesheet" type="text/css" href="/assets/css/main.css" />
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"
    ></script>
  </head>
  <body>
    <main>
      <nav>
  <ul>
    <li>
      <a title="Home" href="/"
        ><svg
          version="1.0"
          xmlns="http://www.w3.org/2000/svg"
          width="35px"
          height="35px"
          viewBox="0 0 412.000000 416.000000"
          preserveAspectRatio="xMidYMid meet"
        >
          <g
            transform="translate(0.000000,416.000000) scale(0.100000,-0.100000)"
            fill="#000000"
            stroke="none"
          >
            <path
              d="M0 2070 l0 -2070 2060 0 2060 0 0 2070 0 2070 -2060 0 -2060 0 0
     -2070z m1780 296 c0 -215 4 -377 9 -380 5 -4 18 5 28 18 10 13 168 184 351
     380 l333 356 90 0 c51 0 89 -4 87 -9 -1 -5 -109 -126 -239 -268 -321 -351
     -305 -332 -292 -351 5 -10 134 -181 287 -382 152 -201 276 -368 276 -372 0 -5
     -41 -8 -90 -8 l-90 0 -251 336 c-138 184 -254 334 -257 332 -4 -2 -60 -58
     -124 -124 l-118 -122 0 -211 0 -211 -85 0 -85 0 0 695 0 695 85 0 85 0 0 -374z"
            />
          </g></svg
      ></a>
    </li>
    <li><a href="/assets/downloads/Resume-KunalNagar.pdf">Resume</a></li>
    <li><a href="/foss">Open Source</a></li>
    <li><a href="/blog">Blog</a></li>
  </ul>
</nav>

      <div class="page-blog-single">
        <h1>Install Global Node Modules without Sudo</h1>
        <time>August 15, 2019</time>
        <article><p>If you’re on Linux or macOS and have tried installing a node module globally, you might run into permission issues like the following:</p>

<!-- prettier-ignore -->
<p><a href="https://i.imgur.com/i4hiG88.png" aria-label="Screenshot showing invalid permissions on Linux when installing an NPM package globally" data-lightbox="https://i.imgur.com/i4hiG88.png" class="lightbox-img">
  <img src="https://i.imgur.com/i4hiG88.png" alt="Screenshot showing invalid permissions on Linux when installing an NPM package globally" />
</a></p>

<p>By default, Node installs global modules to your bin directory: <code class="highlighter-rouge">/usr/bin/node_modules</code> which may require elevated privileges to access. Instead, you could tell Node to install these modules in your home directory. This way you don’t need to use sudo since you already own the directory. In this case, we’ll be installing all global npm modules to <code class="highlighter-rouge">~/.npm-global</code></p>

<h2 id="steps-to-follow">Steps to follow</h2>

<ol>
  <li>Create a new directory in your home folder</li>
</ol>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mkdir ~/.npm-global
</code></pre></div></div>

<ol>
  <li>Tell npm to use the newly created directory to install global modules</li>
</ol>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm config set prefix ~/.npm-global
</code></pre></div></div>

<ol>
  <li>Add this to your <code class="highlighter-rouge">~/.profile</code> or <code class="highlighter-rouge">~/.bash_profile</code> depending on whether you’re on Linux/macOS respectively</li>
</ol>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> export PATH=~/.npm-global/bin:$PATH
</code></pre></div></div>

<ol>
  <li>Update your current terminal session by reloading the profile</li>
</ol>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>source ~/.profile
</code></pre></div></div>

<ol>
  <li>Try and install a sample module globally and it should work</li>
</ol>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm install -g @vue/cli
</code></pre></div></div>

<!-- prettier-ignore -->
<p><a href="https://i.imgur.com/bkSOL0p.png" aria-label="Screenshot showing valid permissions on Linux when installing an NPM package globally" data-lightbox="https://i.imgur.com/bkSOL0p.png" class="lightbox-img">
  <img src="https://i.imgur.com/bkSOL0p.png" alt="Screenshot showing valid permissions on Linux when installing an NPM package globally" />
</a></p>

<p>And you’re done! Of course, you could skip all this and just use <code class="highlighter-rouge">sudo</code>, but it’s not recommended and highly discouraged. Do things the right way and get the basics right.</p>

<h2 id="references">References</h2>

<ul>
  <li><a href="http://npm.github.io/installation-setup-docs/installing/a-note-on-permissions.html">A note on permissions (Official NPM)</a></li>
</ul>
</article>
      </div>
      <footer>
  <script src="/assets/js/utils.js"></script>
  <script src="/assets/js/main.js"></script>
</footer>

    </main>
    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.1/css/lightbox.min.css"
    />
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.1/js/lightbox.min.js"
      async
      defer
    ></script>
  </body>
</html>
